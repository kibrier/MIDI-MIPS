.data
notes:
.word 60, 63, 67, 66, 65, 65, 60, 63, 65, 60, 63, 67, 66, 65, 65, 60, 63, 65, 60, 63, 67, 66, 65, 65, 60, 63, 70, 67, 67, 66, 67, 63, 65, 66, 67, 63, 65, 72, 67, 65, 63, 65, 65, 60, 63, 60, 63, 63, 65, 63, 66, 67, 75, 77, 72, 75, 70, 72, 67, 60, 63, 70, 67, 75, 60, 66, 67, 63, 65, 66, 67, 63, 65, 68, 75, 73, 72, 72, 72, 74, 75, 74, 72, 74, 72, 63, 63, 63, 70, 68, 67, 79, 80, 82, 82, 75, 75, 77, 77, 79, 79, 71, 72, 74, 67, 69, 71, 67, 65, 63, 62, 72, 72, 70, 72, 72, 74, 75, 74, 70, 70, 65, 67, 65, 67, 67, 60, 63, 67, 68, 70, 67, 59, 60, 62, 56, 70, 60, 62, 63, 65, 67, 68, 67, 71, 74, 75, 74, 72, 70, 72, 67, 72, 75, 79, 77, 75, 77, 75, 70, 70, 72, 72, 72, 72, 72, 72, 72, 72, 72, 72, 71, 71, 72, 74, 75, 74, 72, 70, 72, 67, 72, 75, 79, 70, 80, 79, 77, 79, 77, 75, 67, 68, 70, 74, 75, 77, 80, 70, 83, 67, 75, 74, 72, 70, 72, 67, 72, 75, 79, 77, 75, 77, 75, 70, 70, 72, 72, 72, 72, 72, 72, 72, 72, 72, 72, 71, 71, 72, 74, 75, 74, 72, 70, 72, 67, 72, 75, 79, 77, 75, 77, 75, 67, 67, 79, 67, 74, 77, 75, 74, 72, 60

durations:
.word 114, 114, 227, 341, 227, 227, 114, 227, 114, 114, 114, 227, 341, 227, 227, 114, 227, 114, 114, 114, 227, 341, 227, 227, 114, 227, 910, 455, 455, 682, 1137, 455, 455, 682, 682, 455, 1365, 227, 227, 227, 114, 227, 227, 114, 227, 114, 1231, 227, 227, 227, 682, 1137, 114, 227, 114, 227, 114, 227, 114, 114, 114, 114, 114, 114, 114, 682, 1137, 455, 455, 682, 682, 455, 455, 455, 455, 455, 227, 227, 227, 114, 341, 227, 227, 114, 910, 227, 227, 227, 227, 114, 910, 114, 114, 104, 10, 104, 10, 10, 104, 10, 104, 114, 114, 114, 114, 114, 114, 114, 114, 114, 114, 455, 227, 114, 910, 341, 341, 227, 1137, 227, 227, 114, 1024, 455, 227, 682, 227, 227, 341, 341, 227, 455, 455, 455, 455, 114, 227, 227, 227, 227, 227, 227, 227, 455, 455, 455, 227, 227, 114, 227, 114, 227, 227, 227, 227, 227, 114, 227, 114, 114, 114, 227, 227, 227, 114, 227, 227, 114, 227, 227, 227, 227, 114, 227, 1024, 227, 227, 114, 227, 114, 227, 227, 227, 682, 227, 227, 227, 227, 227, 682, 1137, 114, 114, 114, 114, 114, 114, 114, 114, 227, 682, 227, 227, 114, 227, 114, 227, 227, 227, 227, 227, 114, 227, 114, 114, 114, 227, 227, 227, 114, 227, 227, 114, 227, 227, 227, 227, 114, 227, 1024, 227, 227, 114, 227, 114, 227, 227, 227, 227, 227, 114, 227, 114, 227, 227, 1592, 910, 455, 227, 144, 227, 3526, 3185

delays:
.word 114, 114, 227, 341, 227, 227, 114, 227, 227, 114, 114, 227, 341, 227, 227, 114, 227, 227, 114, 114, 227, 341, 227, 227, 114, 227, 1137, 455, 455, 682, 2047, 455, 455, 682, 682, 455, 1592, 227, 227, 227, 114, 227, 227, 114, 227, 114, 1231, 227, 227, 227, 682, 1137, 114, 227, 114, 227, 114, 227, 114, 114, 114, 114, 114, 114, 114, 682, 2047, 455, 455, 682, 682, 455, 455, 455, 455, 455, 227, 227, 227, 114, 341, 227, 227, 114, 1365, 227, 227, 227, 227, 114, 1479, 114, 114, 104, 10, 104, 10, 10, 104, 10, 104, 114, 114, 114, 114, 114, 114, 114, 114, 114, 114, 455, 227, 114, 1934, 341, 341, 227, 1137, 227, 227, 114, 1934, 455, 227, 682, 227, 1137, 341, 341, 227, 455, 455, 455, 455, 114, 227, 227, 227, 227, 227, 227, 796, 455, 455, 455, 227, 227, 114, 227, 227, 227, 227, 227, 227, 227, 114, 227, 796, 114, 114, 227, 227, 227, 114, 227, 227, 114, 227, 227, 227, 227, 114, 227, 1024, 227, 227, 114, 227, 227, 227, 227, 227, 682, 227, 227, 227, 227, 227, 682, 1137, 114, 114, 114, 114, 114, 114, 114, 114, 227, 682, 227, 227, 114, 227, 227, 227, 227, 227, 227, 227, 114, 227, 796, 114, 114, 227, 227, 227, 114, 227, 227, 114, 227, 227, 227, 227, 114, 227, 1024, 227, 227, 114, 227, 227, 227, 227, 227, 227, 227, 114, 227, 341, 227, 227, 1820, 910, 455, 227, 144, 227, 3526, 10000

length:
.word 253

.text
main:
    la $s0, notes       # Initialize the pointer for notes
    la $s1, durations   # Initialize the pointer for durations
    la $s2, delays      # Initialize the pointer for delay
    li $t0, 0           # Initialize loop counter
    
note_loop:
    lw $a0, 0($s0)      # Load current note
    lw $a1, 0($s1)      # Load current duration
    li $a2, 32          # Set the MIDI patch [0-127] (zero is basic piano)
    li $a3, 90          # Set a moderate volume [0-127]
    li $v0, 31          # MIDI system call
    syscall
    
    lw $a0, 0($s2)      # Load current delay
    li $v0, 33          # sleep for a 'delay' amount of time
    syscall
    
    addi $s0, $s0, 4    # Move to the next note (Increment pointer by 4 bytes)
    addi $s1, $s1, 4    # Move to the next duration
    addi $s2, $s2, 4    # Move to the next delay
    addi $t0, $t0, 1    # Increment loop by 1
    
    li $t1, 631         # length of the song
    blt $t0, $t1, note_loop   # Branch to play note_loop if t0 < t1
    
    li $v0, 10          # exit   
    syscall